# План
   
## Перечень автоматизируемых сценариев 
  - **Позитивные** 
    - Карта 1 (Активная)
      - Обычная покупка
        1. Открываем сервис
        1. Выбираем покупку за наличные
        1. Заполняем все поля валидными данными
        1. Нажимаем кнопку подтверждения
        1. Получаем ответ, что операция одобрена  
      - Покупка в кредит 
        1. Открываем сервис
        1. Выбираем покупку в кредит
        1. Заполняем все поля валидными данными
        1. Нажимаем кнопку подтверждения
        1. Получаем ответ, что операция одобрена  
    - Карта 2 (Не активная)  
      - Обычная покупка 
        1. Открываем сервис
        1. Выбираем покупку за наличные
        1. Заполняем все поля валидными данными
        1. Нажимаем кнопку подтверждения
        1. Получаем отказ от банка, т.к. карта заблокирована
      - Покупка в кредит 
        1. Открываем сервис
        1. Выбираем покупку в кредит
        1. Заполняем все поля валидными данными
        1. Нажимаем кнопку подтверждения
        1. Получаем отказ от банка, т.к. карта заблокирована 
  
  - **Негативные** 
    - Карта 1 (Активная)
      - **Поле "Номер карты"**   
        - Пустое поле
          - Обычная покупка
             1. Открываем сервис
             1. Выбираем покупку за наличные
             1. Заполняем все поля валидными данными, кроме поля "Номер карты"
             2. Поле "Номер карты" оставляем пустым
             3. Нажимаем кнопку подтверждения
             4. Получаем ошибку "Неверный формат"
          - Покупка в кредит 
             1. Открываем сервис
             2. Выбираем покупку в кредит
             3. Заполняем все поля валидными данными, кроме поля "Номер карты"
             4. Поле "Номер карты" оставляем пустым
             5. Нажимаем кнопку подтверждения
             6. Получаем ошибку "Неверный формат" 
          
      - **Поле "Месяц"**
        - Пустое поле
          - Обычная покупка
             1. Открываем сервис
             1. Выбираем покупку за наличные
             1. Заполняем все поля валидными данными, кроме поля "Месяц"
             2. Поле "Месяц" оставляем пустым
             3. Нажимаем кнопку подтверждения
             4. Получаем ошибку "Неверный формат"
          - Покупка в кредит 
             1. Открываем сервис
             2. Выбираем покупку в кредит
             3. Заполняем все поля валидными данными, кроме поля "Месяц"
             4. Поле "Месяц" оставляем пустым
             5. Нажимаем кнопку подтверждения
             6. Получаем ошибку "Неверный формат" 
        - В поле указали месяц, который не существует 
           - Обычная покупка
               1. Открываем сервис
               1. Выбираем покупку за наличные
               1. Заполняем все поля валидными данными, кроме поля "Месяц"
               2. В поле "Месяц" вписываем "00"
               3. Нажимаем кнопку подтверждения
               4. Получаем ошибку "Неверно указан срок действия карты"
            - Покупка в кредит 
               1. Открываем сервис
               2. Выбираем покупку в кредит
               3. Заполняем все поля валидными данными, кроме поля "Месяц"
               4. В поле "Месяц" вписываем "00"
               5. Нажимаем кнопку подтверждения
               6. Получаем ошибку "Неверно указан срок действия карты"    
      - **Поле "Год"**
        - Пустое поле
          - Обычная покупка
             1. Открываем сервис
             1. Выбираем покупку за наличные
             1. Заполняем все поля валидными данными, кроме поля "Год"
             2. Поле "Год" оставляем пустым
             3. Нажимаем кнопку подтверждения
             4. Получаем ошибку "Неверный формат"
          - Покупка в кредит 
             1. Открываем сервис
             2. Выбираем покупку в кредит
             3. Заполняем все поля валидными данными, кроме поля "Год"
             4. Поле "Год" оставляем пустым
             5. Нажимаем кнопку подтверждения
             6. Получаем ошибку "Неверный формат" 
        - В поле указали год, который не существует 
           - Обычная покупка
               1. Открываем сервис
               1. Выбираем покупку за наличные
               1. Заполняем все поля валидными данными, кроме поля "Год"
               2. В поле "Год" вписываем "88"
               3. Нажимаем кнопку подтверждения
               4. Получаем ошибку "Неверно указан срок действия карты"
            - Покупка в кредит 
               1. Открываем сервис
               2. Выбираем покупку в кредит
               3. Заполняем все поля валидными данными, кроме поля "Год"
               4. В поле "Год" вписываем "88"
               5. Нажимаем кнопку подтверждения
               6. Получаем ошибку "Неверно указан срок действия карты"
        - В поле указали истекший год 
           - Обычная покупка
               1. Открываем сервис
               1. Выбираем покупку за наличные
               1. Заполняем все поля валидными данными, кроме поля "Год"
               2. В поле "Год" вписываем "19"
               3. Нажимаем кнопку подтверждения
               4. Получаем ошибку "Истёк срок действия карты"
            - Покупка в кредит 
               1. Открываем сервис
               2. Выбираем покупку в кредит
               3. Заполняем все поля валидными данными, кроме поля "Год"
               4. В поле "Год" вписываем "19"
               5. Нажимаем кнопку подтверждения
               6. Получаем ошибку "Истёк срок действия карты"         
      - **Поле "Владелец"**
        - Пустое поле
          - Обычная покупка
             1. Открываем сервис
             1. Выбираем покупку за наличные
             1. Заполняем все поля валидными данными, кроме поля "Владелец"
             2. Поле "Владелец" оставляем пустым
             3. Нажимаем кнопку подтверждения
             4. Получаем ошибку "Поле обязательно для заполнения"
          - Покупка в кредит 
             1. Открываем сервис
             2. Выбираем покупку в кредит
             3. Заполняем все поля валидными данными, кроме поля "Владелец"
             4. Поле "Владелец" оставляем пустым
             5. Нажимаем кнопку подтверждения
             6. Получаем ошибку "Поле обязательно для заполнения" 
        - Поле "Владелец" заполнено кириллицей
           - Обычная покупка
               1. Открываем сервис
               1. Выбираем покупку за наличные
               1. Заполняем все поля валидными данными, кроме поля "Владелец"
               2. В поле "Владелец" вписываем имя кириллицей
               3. Нажимаем кнопку подтверждения
               4. Получаем ошибку "Неверный формат"
            - Покупка в кредит 
               1. Открываем сервис
               2. Выбираем покупку в кредит
               3. Заполняем все поля валидными данными, кроме поля "Владелец"
               4. В поле "Владелец" вписываем имя кириллицей
               5. Нажимаем кнопку подтверждения
               6. Получаем ошибку "Неверный формат"
        - Поле "Владелец" заполнено цифрами
           - Обычная покупка
               1. Открываем сервис
               1. Выбираем покупку за наличные
               1. Заполняем все поля валидными данными, кроме поля "Владелец"
               2. В поле "Владелец" вписываем цифры
               3. Нажимаем кнопку подтверждения
               4. Получаем ошибку "Неверный формат"
            - Покупка в кредит 
               1. Открываем сервис
               2. Выбираем покупку в кредит
               3. Заполняем все поля валидными данными, кроме поля "Владелец"
               4. В поле "Владелец" вписываем цифры
               5. Нажимаем кнопку подтверждения
               6. Получаем ошибку "Неверный формат"         
      - **Поле "Cvc/Cvv"**
        - Пустое поле
          - Обычная покупка
             1. Открываем сервис
             1. Выбираем покупку за наличные
             1. Заполняем все поля валидными данными, кроме поля "Cvc/Cvv"
             2. Поле "Cvc/Cvv" оставляем пустым
             3. Нажимаем кнопку подтверждения
             4. Получаем ошибку "Неверный формат"
          - Покупка в кредит 
             1. Открываем сервис
             2. Выбираем покупку в кредит
             3. Заполняем все поля валидными данными, кроме поля "Cvc/Cvv"
             4. Поле "Cvc/Cvv" оставляем пустым
             5. Нажимаем кнопку подтверждения
             6. Получаем ошибку "Неверный формат" 
        - Поле "Cvc/Cvv" заполнено буквами
           - Обычная покупка
               1. Открываем сервис
               1. Выбираем покупку за наличные
               1. Заполняем все поля валидными данными, кроме поля "Cvc/Cvv"
               2. В поле "Cvc/Cvv" вписываем буквы
               3. Нажимаем кнопку подтверждения
               4. Получаем ошибку "Неверный формат"
            - Покупка в кредит 
               1. Открываем сервис
               2. Выбираем покупку в кредит
               3. Заполняем все поля валидными данными, кроме поля "Cvc/Cvv"
               4. В поле "Cvc/Cvv" вписываем буквы
               5. Нажимаем кнопку подтверждения
               6. Получаем ошибку "Неверный формат"
    
    - Неизвестная карта 
      - Обычная покупка
        1. Открываем сервис
        2. Выбираем покупку за наличные
        3. Заполняем все поля валидными данными, кроме поля "Номер карты"
        4. Поле "номер карты" заполняем случайным набором цифр
        5. Нажимаем кнопку подтверждения
        6. Получаем отказ от банка
      - Покупка в кредит 
        1. Открываем сервис
        2. Выбираем покупку в кредит
        3. Заполняем все поля валидными данными, кроме поля "Номер карты"
        4. Поле "номер карты" заполняем случайным набором цифр
        5. Нажимаем кнопку подтверждения
        6. Получаем отказ от банка
  
  - **Проверка взаимодействия с БД**
    - На примере позитивного теста карты со статусом "APPROVED" проверим, что в БД была сделана запись о карте с соответствующим статусом. 

## Перечень используемых инструментов 
   
  Данные инструменты выбраны потому-что ими научили пользоваться на курсе.
     
  * **Java 8** — язык написания авто-тестов, используется в компании, чей продукт мы тестируем, будем придерживаться стандартов компании;
  * **JUnit** — платформа для написания авто-тестов и их запуска;
  * **Selenium Webdriver** - самый популярный фреймворк для автоматизации тестирования, с оберткой Selenide, 
  упрощает написание тестов и сокращает количество кода.
  * **Gradle** — система управления зависимостями, значительно облегчает подключение зависимостей и облегчает работу;
  * **Allure** — фреймворк, помогает создать визуально наглядную картину результатов выполнения тестов;
  * **Git и GitHub** — самый распространенный способ для хранения кода, в том числе авто-тестов, используется в компании, чей продукт мы тестируем. С ним будет удобнее взаимодействовать с командой;
  * **Docker** — платформа контейнерной виртуализации, использует процессы и утилиты, которые помогут запустить наше приложение для тестирования в связке с базами данных, без лишних установок и настроек дополнительного софта.
   
## Перечень и описание возможных рисков при автоматизации 

 * Проблемы с настройкой БД и сложные запросы к БД; 
 * Увеличение временных затрат на написание автотестов из-за особенностей строения исходного кода сервиса, не адаптированного под автотестирование;
 * Не исправность предоставленных для тестирования jar-ов;
 * Некорректное ТЗ, несовпадение фактического функционала с тем, что заявлен. 
  
## Интервальная оценка с учётом рисков 

 * Подготовка окружения, настройка подключения к БД, - 14 дней;
 * Написание автотестов, написание page objects, генерация/очистка данных - 14 дней;
 * Подготовка отчетных документов, написание отчета 3 дня.
 
## План сдачи работ 

  1. С 23-25 декабря - планирование автоматизации тестирования;
  1. С 26 декабря по 26 января - настройка окружения, написание и отладка автотестов, тестирование;
  1. C 27 по 30 января - подготовка отчетных документов.

